!function(){"use strict";angular.module("public",["ngAnimate","ngCookies","ngSanitize","ui.router","ui.bootstrap","toastr","ngFileUpload","ngResource"])}(),function(){"use strict";angular.module("public").factory("status",["$resource",function(e){return{SenseStatus:e("api/status/:senseId",{},{}),AllModuleStatus:e("api/status/:senseId/modules",{},{}),ModuleStatus:e("api/status/:senseId/modules/:moduleId",{},{})}}])}(),function(){"use strict";function e(){function e(e,t,n,s,o){o.delDevice=e.delDevice,o.logButtonText="View",o.expandButtonText="+",o.showModules=!1,o.showLogViewer=!1,s(o.getSenseStatus,1e4),o.getModules=function(){n.get({senseId:o.sense.senseId},function(e){o.modules=angular.fromJson(e.result),o.moduleCount=o.modules.length})},o.getSenseStatus=function(){t.SenseStatus.get({senseId:o.sense.senseId},function(e){o.sense.deviceStatus=e.status})},o.displayModules=function(){"+"==o.expandButtonText?o.expandButtonText="-":"-"==o.expandButtonText&&(o.expandButtonText="+"),o.showModules=!o.showModules},o.displayLog=function(){"View"==o.logButtonText?o.logButtonText="Hide":o.logButtonText="View",o.showLogViewer=!o.showLogViewer}}e.$inject=["deviceList","status","moduleList","$interval","$scope"];var t={restrict:"A",replace:!1,templateUrl:"app/components/senseItem/senseItem.html",scope:{senseId:"@",imgId:"@",deviceStatus:"="},link:function(e,t,n){e.sense={},n.$observe("senseId",function(t){e.sense.senseId=t,e.getModules(),e.getSenseStatus()}),n.$observe("imgId",function(t){e.sense.imgId=t})},controller:e,controllerAs:"senseItemController",bindToController:!0};return t}angular.module("public").directive("ngSenseItem",e)}(),function(){"use strict";function e(){function e(e,n,s,o){var i=this;i.getDevices=e.getDevices,i.delDevice=e.delDevice,i.open=function(){var n=s.open({animation:1,templateUrl:"addModalContent.html",controller:t,controllerAs:"vm"});n.result.then(function(t){e.setDevice(t.id,t.imgId),o.info("Generating sense id: "+t.id+", imageId:"+t.imgId)},function(){o.info("Modal dismissed at: "+new Date)})}}function t(e){var t=this;t.imgId=10+Math.floor(54*Math.random()),t.senseId="",t.ok=function(){e.close({id:t.senseId,imgId:t.imgId})},t.cancel=function(){e.dismiss("cancel")}}e.$inject=["deviceList","$scope","$modal","$log"],t.$inject=["$modalInstance"];var n={restrict:"E",templateUrl:"app/components/senseContent/senseContent.html",scope:{creationDate:"="},controller:e,controllerAs:"vm",bindToController:!0};return n}angular.module("public").directive("ngSenseContent",e)}(),function(){"use strict";function e(){function e(){}var t={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"="},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("public").directive("ngNavbar",e)}(),function(){"use strict";function e(){function e(e,t,n){t.showLogViewer=!1,n(t.getModuleStatus,1e4),t.getModuleStatus=function(){t.sense.senseId&&t.sense.moduleId&&e.ModuleStatus.get({senseId:t.sense.senseId,moduleId:t.sense.moduleId},function(e){t.sense.moduleStatus=e.status})},t.displayLog=function(){t.showLogViewer=!t.showLogViewer}}e.$inject=["status","$scope","$interval"];var t={restrict:"A",replace:!1,templateUrl:"app/components/moduleItem/moduleItem.html",scope:{senseId:"@",moduleId:"@",moduleStatus:"="},link:function(e,t,n){e.sense={},n.$observe("senseId",function(t){e.sense.senseId=t,e.getModuleStatus()}),n.$observe("moduleId",function(t){e.sense.moduleId=t,e.getModuleStatus()})},controller:e,controllerAs:"moduleItemController",bindToController:!0};return t}angular.module("public").directive("ngModuleItem",e)}(),function(){"use strict";function e(){function e(e,t){t.getModules=function(){e.get({senseId:t.senseId},function(e){t.modules=angular.fromJson(e.result),t.moduleEmpty=0==t.modules.length})}}e.$inject=["moduleList","$scope"];var t={restrict:"E",templateUrl:"app/components/moduleContent/moduleContent.html",scope:{creationDate:"=",senseId:"@"},link:function(e,t,n){n.$observe("senseId",function(t){e.senseId=t,e.getModules()})},controller:e,controllerAs:"moduleContentController",bindToController:!0};return t}angular.module("public").directive("ngModuleContent",e)}(),function(){"use strict";function e(e,t){function n(){return i}function s(n,s){e({method:"POST",url:"api/registerDevice",data:{senseId:n,senseIcon:s}}).then(function(e){t.info(e)},function(e){t.info(e)}),i[n]=s}function o(t){e({method:"DELETE",url:"api/devices/"+t}),delete i[t]}var i={};e({method:"GET",url:"api/devices"}).then(function(e){var t=angular.fromJson(e.data.result);t.forEach(function(e){i[e.senseId]=e.senseIcon})},function(e){t.info(e)}),this.getDevices=n,this.setDevice=s,this.delDevice=o}e.$inject=["$http","$log"],angular.module("public").service("deviceList",e)}(),function(){"use strict";angular.module("public").factory("moduleList",["$resource",function(e){return e("api/devices/:senseId/modules",{},{})}])}(),function(){"use strict";function e(e,t){function n(){e(function(){o.classAnimation="rubberBand"},4e3)}function s(){t.info('Fork <a href="https://github.com/Swiip/generator-gulp-angular" target="_blank"><b>generator-gulp-angular</b></a>'),o.classAnimation=""}var o=this;o.awesomeThings=[],o.classAnimation="",o.creationDate=1445587798203,o.showToastr=s,n()}e.$inject=["$timeout","toastr"],angular.module("public").controller("MainController",e)}(),function(){"use strict";function e(e){e.debug("runBlock end")}e.$inject=["$log"],angular.module("public").run(e)}(),function(){"use strict";function e(e,t){e.state("think",{url:"/think",templateUrl:"app/node-red/node-red.html"}).state("sense",{url:"/sense",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}).state("404",{url:"/404",templateUrl:"app/exception/404.html"}),t.when("","/sense"),t.otherwise("404")}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("public").config(e)}(),function(){"use strict"}(),function(){"use strict";function e(e,t){e.debugEnabled(!0),t.allowHtml=!0,t.timeOut=3e3,t.positionClass="toast-top-right",t.preventDuplicates=!0,t.progressBar=!0}e.$inject=["$logProvider","toastrConfig"],angular.module("public").config(e)}(),angular.module("public").run(["$templateCache",function(e){e.put("app/exception/404.html",'<div class="container"><h1 style="text-align: center">404 NOT FOUND</h1></div>'),e.put("app/main/main.html",'<div class="container-fluid"><div class="container"><ng-sense-content></ng-sense-content></div></div>'),e.put("app/node-red/node-red.html",'<div class="node-red-box"><iframe src="node-red/" width="100%" height="100%" scrolling="no" frameborder="0"></iframe></div>'),e.put("app/components/moduleContent/moduleContent.html",'<table class="table"><thead></thead><tbody ng-module-item="" ng-repeat="key in modules" module-id="{{ key }}" sense-id="{{ senseId }}"></tbody><tbody ng-show="moduleEmpty"><tr><td colspan="6" class="empty-text">You have not yet registered any modules yet.</td></tr></tbody></table>'),e.put("app/components/moduleItem/moduleItem.html",'<tr><th scope="row" class="vert-align"></th><td class="vert-align">{{sense.moduleId}}</td><td class="vert-align"></td><td class="vert-align"><div class="sense-status-icon-cell"><div class="sense-status-{{ sense.moduleStatus }}"></div></div><div class="sense-status-text-cell">{{ sense.moduleStatus }}</div></td><td class="vert-align"></td><td class="vert-align"><input type="image" src="assets/images/trash.png" ng-click=""></td></tr>'),e.put("app/components/navbar/navbar.html",'<div class="row" id="header"><div class="col-md-2"><div class="logo-img pull-left"><img src="assets/images/IBM_IoT_cloud2.png" width="117px"></div></div><div class="col-md-4"><div class="logo-text"><h1>HUMIX NG</h1></div></div><div class="col-md-6 header-options"><ul class="list-inline breadcrumbs"><li><a ui-sref="sense">Sense</a></li><li><a ui-sref="think">Think</a></li></ul></div></div>'),e.put("app/components/senseContent/senseContent.html",'<div class="sense-container"><div class="title"><button class="btn btn-default" ng-click="vm.open()">Add Sense</button><hr></div><div class="row"><table class="table"><thead class="thead-inverse"><tr><th></th><th>Sense ID</th><th>Status</th><th>Modules</th><th>Remove</th></tr></thead><tbody ng-sense-item="" ng-repeat="(key, val) in vm.getDevices()" sense-id="{{ key }}" img-id="{{ val }}"></tbody></table></div></div><script type="text/ng-template" id="addModalContent.html"><div class="modal-header"> <h3 class="modal-title">Add Sencse</h3> </div> <div class="modal-body"> <form class="form-horizontal"> <div class="form-group"> <div class="col-sm-3 modal-thumbnail-block"> <img ng-src="assets/images/bluemix-icon-list/i-appicon-{{ vm.imgId }}-50.png" class="img-thumbnail" alt="thumbnail" /> </div> <label class="col-sm-1 control-label" for="sense-id">ID: </label> <div class="col-sm-8"> <input type="text" id="sense-id" class="form-control" placeholder="Humix-Godzilla" ng-model="vm.senseId"/> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" type="button" ng-click="vm.ok()">OK</button> <button class="btn btn-warning" type="button" ng-click="vm.cancel()">Cancel</button> </div></script>'),e.put("app/components/senseItem/senseItem.html",'<tr><th scope="row" class="vert-align"><img ng-src="assets/images/bluemix-icon-list/i-appicon-{{ sense.imgId }}-50.png" class="img-thumbnail" alt="thumbnail"></th><td class="vert-align"><button ng-click="displayModules()">{{expandButtonText}}</button> {{sense.senseId}}</td><td class="vert-align"><div class="sense-status-icon-cell"><div class="sense-status-{{ sense.deviceStatus }}"></div></div><div class="sense-status-text-cell">{{ sense.deviceStatus }}</div></td><td class="vert-align">{{moduleCount}}</td><td class="vert-align"><input type="image" src="assets/images/trash.png" ng-click="delDevice(sense.senseId)"></td></tr><tr ng-show="showModules"><td class="no-top-border"></td><td colspan="4" class="no-top-border"><ng-module-content sense-id="{{ sense.senseId }}"></ng-module-content></td></tr>')}]);
//# sourceMappingURL=../maps/scripts/app-88473af1b7.js.map
